/**
 * @license Angular UI Tree v2.15.0
 * (c) 2010-2016. https://github.com/angular-ui-tree/angular-ui-tree
 * License: MIT
 */
!function(){"use strict";angular.module("ui.tree",[]).constant("treeConfig",{treeClass:"angular-ui-tree",emptyTreeClass:"angular-ui-tree-empty",hiddenClass:"angular-ui-tree-hidden",nodesClass:"angular-ui-tree-nodes",nodeClass:"angular-ui-tree-node",handleClass:"angular-ui-tree-handle",placeholderClass:"angular-ui-tree-placeholder",dragClass:"angular-ui-tree-drag",containerClass:"angular-ui-tree-container",dragSourceClass:"angular-ui-tree-drag-source",dragThreshold:3,levelThreshold:30,defaultCollapsed:!1})}(),function(){"use strict";angular.module("ui.tree").controller("TreeHandleController",["$scope","$element",function(e,n){this.scope=e,e.$element=n,e.$nodeScope=null,e.$type="uiTreeHandle"}])}(),function(){"use strict";angular.module("ui.tree").controller("TreeNodeController",["$scope","$element",function(e,n){function t(e){var n,o,l,r=0,a=e.childNodes();if(!a||0===a.length)return 0;for(l=a.length-1;l>=0;l--)n=a[l],o=1+t(n),r=Math.max(r,o);return r}this.scope=e,e.$element=n,e.$modelValue=null,e.$parentNodeScope=null,e.$childNodesScope=null,e.$parentNodesScope=null,e.$treeScope=null,e.$handleScope=null,e.$type="uiTreeNode",e.$$allowNodeDrop=!1,e.collapsed=!1,e.init=function(t){var o=t[0];e.$treeScope=t[1]?t[1].scope:null,e.$parentNodeScope=o.scope.$nodeScope,e.$modelValue=o.scope.$modelValue[e.$index],e.$parentNodesScope=o.scope,o.scope.initSubNode(e),n.on("$destroy",function(){o.scope.destroySubNode(e)})},e.index=function(){return e.$parentNodesScope.$modelValue.indexOf(e.$modelValue)},e.dragEnabled=function(){return!(e.$treeScope&&!e.$treeScope.dragEnabled)},e.dropIn=function(){return!(e.$treeScope&&!e.$treeScope.dropIn)},e.isSibling=function(n){return e.$parentNodesScope==n.$parentNodesScope},e.isChild=function(n){var t=e.childNodes();return t&&t.indexOf(n)>-1},e.prev=function(){var n=e.index();return n>0?e.siblings()[n-1]:null},e.siblings=function(){return e.$parentNodesScope.childNodes()},e.childNodesCount=function(){return e.childNodes()?e.childNodes().length:0},e.hasChild=function(){return e.childNodesCount()>0},e.childNodes=function(){return e.$childNodesScope&&e.$childNodesScope.$modelValue?e.$childNodesScope.childNodes():null},e.accept=function(n,t){return e.$childNodesScope&&e.$childNodesScope.$modelValue&&e.$childNodesScope.accept(n,t)},e.remove=function(){return e.$parentNodesScope.removeNode(e)},e.toggle=function(){e.collapsed=!e.collapsed},e.collapse=function(){e.collapsed=!0},e.expand=function(){e.collapsed=!1},e.depth=function(){var n=e.$parentNodeScope;return n?n.depth()+1:1},e.maxSubDepth=function(){return e.$childNodesScope?t(e.$childNodesScope):0}}])}(),function(){"use strict";angular.module("ui.tree").controller("TreeNodesController",["$scope","$element",function(e,n){this.scope=e,e.$element=n,e.$modelValue=null,e.$nodeScope=null,e.$treeScope=null,e.$type="uiTreeNodes",e.$nodesMap={},e.nodropEnabled=!1,e.maxDepth=0,e.cloneEnabled=!1,e.initSubNode=function(n){return n.$modelValue?void(e.$nodesMap[n.$modelValue.$$hashKey]=n):null},e.destroySubNode=function(n){return n.$modelValue?void(e.$nodesMap[n.$modelValue.$$hashKey]=null):null},e.accept=function(n,t){return e.$treeScope.$callbacks.accept(n,e,t)},e.beforeDrag=function(n){return e.$treeScope.$callbacks.beforeDrag(n)},e.isParent=function(n){return n.$parentNodesScope==e},e.hasChild=function(){return e.$modelValue.length>0},e.safeApply=function(e){var n=this.$root.$$phase;"$apply"==n||"$digest"==n?e&&"function"==typeof e&&e():this.$apply(e)},e.removeNode=function(n){var t=e.$modelValue.indexOf(n.$modelValue);return t>-1?(e.safeApply(function(){e.$modelValue.splice(t,1)[0]}),e.$treeScope.$callbacks.removed(n)):null},e.insertNode=function(n,t){e.safeApply(function(){e.$modelValue.splice(n,0,t)})},e.childNodes=function(){var n,t=[];if(e.$modelValue)for(n=0;n<e.$modelValue.length;n++)t.push(e.$nodesMap[e.$modelValue[n].$$hashKey]);return t},e.depth=function(){return e.$nodeScope?e.$nodeScope.depth():0},e.outOfDepth=function(n){var t=e.maxDepth||e.$treeScope.maxDepth;return t>0?e.depth()+n.maxSubDepth()+1>t:!1}}])}(),function(){"use strict";angular.module("ui.tree").controller("TreeController",["$scope","$element",function(e,n){this.scope=e,e.$element=n,e.$nodesScope=null,e.$type="uiTree",e.$emptyElm=null,e.$callbacks=null,e.dragEnabled=!0,e.dropIn=!1,e.emptyPlaceholderEnabled=!0,e.maxDepth=0,e.dragDelay=0,e.cloneEnabled=!1,e.nodropEnabled=!1,e.isEmpty=function(){return e.$nodesScope&&e.$nodesScope.$modelValue&&0===e.$nodesScope.$modelValue.length},e.place=function(n){e.$nodesScope.$element.append(n),e.$emptyElm.remove()},this.resetEmptyElement=function(){e.$nodesScope.$modelValue&&0!==e.$nodesScope.$modelValue.length||!e.emptyPlaceholderEnabled?e.$emptyElm.remove():n.append(e.$emptyElm)},e.resetEmptyElement=this.resetEmptyElement}])}(),function(){"use strict";angular.module("ui.tree").directive("uiTree",["treeConfig","$window",function(e,n){return{restrict:"A",scope:!0,controller:"TreeController",link:function(t,o,l,r){var a,d,i,s={accept:null,beforeDrag:null},c={};angular.extend(c,e),c.treeClass&&o.addClass(c.treeClass),"table"===o.prop("tagName").toLowerCase()?(t.$emptyElm=angular.element(n.document.createElement("tr")),d=o.find("tr"),i=d.length>0?angular.element(d).children().length:1e6,a=angular.element(n.document.createElement("td")).attr("colspan",i),t.$emptyElm.append(a)):t.$emptyElm=angular.element(n.document.createElement("div")),c.emptyTreeClass&&t.$emptyElm.addClass(c.emptyTreeClass),t.$watch("$nodesScope.$modelValue.length",function(e){angular.isNumber(e)&&r.resetEmptyElement()},!0),t.$watch(l.dragEnabled,function(e){"boolean"==typeof e&&(t.dragEnabled=e)}),t.$watch(l.dropIn,function(e){"boolean"==typeof e&&(t.dropIn=e)}),t.$watch(l.emptyPlaceholderEnabled,function(e){"boolean"==typeof e&&(t.emptyPlaceholderEnabled=e,r.resetEmptyElement())}),t.$watch(l.nodropEnabled,function(e){"boolean"==typeof e&&(t.nodropEnabled=e)}),t.$watch(l.cloneEnabled,function(e){"boolean"==typeof e&&(t.cloneEnabled=e)}),t.$watch(l.maxDepth,function(e){"number"==typeof e&&(t.maxDepth=e)}),t.$watch(l.dragDelay,function(e){"number"==typeof e&&(t.dragDelay=e)}),s.accept=function(e,n){return!(n.nodropEnabled||n.$treeScope.nodropEnabled||n.outOfDepth(e))},s.beforeDrag=function(){return!0},s.removed=function(){},s.dropped=function(){},s.dragStart=function(){},s.dragMove=function(){},s.dragStop=function(){},s.beforeDrop=function(){},t.$watch(l.uiTree,function(e){angular.forEach(e,function(e,n){s[n]&&"function"==typeof e&&(s[n]=e)}),t.$callbacks=s},!0)}}}])}(),function(){"use strict";angular.module("ui.tree").directive("uiTreeHandle",["treeConfig",function(e){return{require:"^uiTreeNode",restrict:"A",scope:!0,controller:"TreeHandleController",link:function(n,t,o,l){var r={};angular.extend(r,e),r.handleClass&&t.addClass(r.handleClass),n!=l.scope&&(n.$nodeScope=l.scope,l.scope.$handleScope=n)}}}])}(),function(){"use strict";angular.module("ui.tree").directive("uiTreeNode",["treeConfig","UiTreeHelper","$window","$document","$timeout","$q","$rootElement",function(e,n,t,o,l,r,a){return{require:["^uiTreeNodes","^uiTree"],restrict:"A",controller:"TreeNodeController",link:function(d,i,s,c){var u,p,f,m,h,$,g,b,N,v,S,y,E,C,T,x,w,Y,D,X,A,I,V,H,M,O,k,P,B,L={},W="ontouchstart"in window,q=null,F=document.body,K=document.documentElement;angular.extend(L,e),L.nodeClass&&i.addClass(L.nodeClass),d.init(c),d.collapsed=!!n.getNodeAttribute(d,"collapsed")||e.defaultCollapsed,d.sourceOnly=d.nodropEnabled||d.$treeScope.nodropEnabled,d.$watch(s.collapsed,function(e){"boolean"==typeof e&&(d.collapsed=e)}),d.$watch("collapsed",function(e){n.setNodeAttribute(d,"collapsed",e),s.$set("collapsed",e)}),d.$on("angular-ui-tree:collapse-all",function(){d.collapsed=!0}),d.$on("angular-ui-tree:expand-all",function(){d.collapsed=!1}),v=function(e){if((W||2!==e.button&&3!==e.which)&&!(e.uiTreeDragging||e.originalEvent&&e.originalEvent.uiTreeDragging)){var l,r,s,c,v,S,y,E,C,T=angular.element(e.target);if(l=n.treeNodeHandlerContainerOfElement(T),l&&(T=angular.element(l)),r=i.clone(),E=n.elementIsTreeNode(T),C=n.elementIsTreeNodeHandle(T),!E&&!C){if(!d.dropIn())return;if(!B)return angular.element(o).bind("mousemove",M),angular.element(o).bind("touchmove",M),angular.element(o).bind("touchend",O),angular.element(o).bind("touchcancel",O),angular.element(o).bind("mouseup",O),void angular.element(o).bind("mouseleave",O)}if(!(E&&n.elementContainsTreeNodeHandler(T)||(s=T.prop("tagName").toLowerCase(),"input"==s||"textarea"==s||"button"==s||"select"==s))){for(H=angular.element(e.target);H&&H[0]&&H[0]!==i;){if(n.nodrag(H))return;H=H.parent()}d.beforeDrag(d)&&(e.uiTreeDragging=!0,e.originalEvent&&(e.originalEvent.uiTreeDragging=!0),e.preventDefault(),v=n.eventObj(e),u=!0,p=n.dragInfo(d),c=i.prop("tagName"),"tr"===c.toLowerCase()?(m=angular.element(t.document.createElement(c)),S=angular.element(t.document.createElement("td")).addClass(L.placeholderClass).attr("colspan",i[0].children.length),m.append(S)):m=angular.element(t.document.createElement(c)).addClass(L.placeholderClass),h=angular.element(t.document.createElement(c)),L.hiddenClass&&h.addClass(L.hiddenClass),f=n.positionStarted(v,i),m.css("height",n.height(i)+"px"),$=angular.element(t.document.createElement(d.$parentNodesScope.$element.prop("tagName"))).addClass(d.$parentNodesScope.$element.attr("class")).addClass(L.dragClass),$.css("width",n.width(i)+"px"),$.css("z-index",9999),y=(i[0].querySelector(".angular-ui-tree-handle")||i[0]).currentStyle,y&&(document.body.setAttribute("ui-tree-cursor",o.find("body").css("cursor")||""),o.find("body").css({cursor:y.cursor+"!important"})),d.dropIn()?(m.css("display","none"),i.parent()[0].insertBefore(m[0],i[0]),i.parent()[0].insertBefore(h[0],i[0]),i.addClass(L.dragSourceClass),$.append(r)):(d.sourceOnly&&m.css("display","none"),i.after(m),i.after(h),$.append(p.isClone()&&d.sourceOnly?r:i)),a.append($),$.css({left:v.pageX-f.offsetX+"px",top:v.pageY-f.offsetY+"px"}),g={placeholder:m,dragging:$},D(),d.$apply(function(){d.$treeScope.$callbacks.dragStart(p.eventArgs(g,f))}),b=Math.max(F.scrollHeight,F.offsetHeight,K.clientHeight,K.scrollHeight,K.offsetHeight),N=Math.max(F.scrollWidth,F.offsetWidth,K.clientWidth,K.scrollWidth,K.offsetWidth))}}},S=function(e){var o,l,r,a,i,s,c,h,v,S,y,E,C,T,x,w,Y,D=n.eventObj(e);if($){if(e.preventDefault(),t.getSelection?t.getSelection().removeAllRanges():t.document.selection&&t.document.selection.empty(),r=D.pageX-f.offsetX,a=D.pageY-f.offsetY,0>r&&(r=0),0>a&&(a=0),a+10>b&&(a=b-10),r+10>N&&(r=N-10),$.css({left:r+"px",top:a+"px"}),i=window.pageYOffset||t.document.documentElement.scrollTop,s=i+(window.innerHeight||t.document.clientHeight||t.document.clientHeight),s<D.pageY&&b>s&&(x=Math.min(b-s,10),window.scrollBy(0,x)),i>D.pageY&&window.scrollBy(0,-10),n.positionMoved(e,f,u),u)return void(u=!1);if(h=n.offset($).left-n.offset(m).left>=L.threshold,v=D.pageX-(t.pageXOffset||t.document.body.scrollLeft||t.document.documentElement.scrollLeft)-(t.document.documentElement.clientLeft||0),S=D.pageY-(t.pageYOffset||t.document.body.scrollTop||t.document.documentElement.scrollTop)-(t.document.documentElement.clientTop||0),angular.isFunction($.hide)?$.hide():(y=$[0].style.display,$[0].style.display="none"),t.document.elementFromPoint(v,S),C=angular.element(t.document.elementFromPoint(v,S)),V=n.treeNodeHandlerContainerOfElement(C),V&&(C=angular.element(V)),angular.isFunction($.show)?$.show():$[0].style.display=y,I=!(n.elementIsTreeNodeHandle(C)||n.elementIsTreeNode(C)||n.elementIsTreeNodes(C)||n.elementIsTree(C)||n.elementIsPlaceholder(C)),I&&!d.dropIn()&&(m.remove(),q&&(q.resetEmptyElement(),q=null)),d.dropIn()||f.dirAx&&f.distAxX>=L.levelThreshold&&(f.distAxX=0,f.distX>0&&(o=p.prev(),o&&!o.collapsed&&o.accept(d,o.childNodesCount())&&(o.$childNodesScope.$element.append(m),p.moveTo(o.$childNodesScope,o.childNodes(),o.childNodesCount()))),f.distX<0&&(l=p.next(),l||(c=p.parentNode(),c&&c.$parentNodesScope.accept(d,c.index()+1)&&(c.$element.after(m),p.moveTo(c.$parentNodesScope,c.siblings(),c.index()+1))))),!f.dirAx){if(n.elementIsTree(C)?E=C.controller("uiTree").scope:n.elementIsTreeNodeHandle(C)?E=C.controller("uiTreeHandle").scope:n.elementIsTreeNode(C)?E=C.controller("uiTreeNode").scope:n.elementIsTreeNodes(C)?E=C.controller("uiTreeNodes").scope:n.elementIsPlaceholder(C)?E=C.controller("uiTreeNodes").scope:C.controller("uiTreeNode")&&(E=C.controller("uiTreeNode").scope),d.dropIn()){var X=d.$treeScope.$nodesScope.childNodes().pop();(!E||"uiTreeNode"!=E.$type)&&D.pageY>n.offset(X.$element).top+n.height(X.$element)&&D.pageX>n.offset(d.$treeScope.$element).left&&D.pageX<n.offset(d.$treeScope.$element).left+n.width(d.$treeScope.$element)&&(X.$element.after(m),p.moveTo(X.$parentNodesScope,X.siblings(),X.index()+1),m[0].style.display="")}if(T=!1,!E)return;if(!E.$treeScope||E.$parent.nodropEnabled||E.$treeScope.nodropEnabled||m.css("display",""),"uiTree"==E.$type&&E.dragEnabled&&(T=E.isEmpty()),"uiTreeHandle"==E.$type&&(E=E.$nodeScope),"uiTreeNode"!=E.$type&&!T)return;if(q&&m.parent()[0]!=q.$element[0]&&(q.resetEmptyElement(),q=null),T)q=E,E.$nodesScope.accept(d,0)&&(E.place(m),p.moveTo(E.$nodesScope,E.$nodesScope.childNodes(),0));else if(E.dragEnabled())if(C=E.$element,w=n.offset(C),d.dropIn()){var A=n.height(C.children());Y=D.pageY<w.top+A/2,k&&k.removeClass(L.containerClass),z(p.source,E)?(m.css("display","none"),p.source.$element.after(m),p.moveTo(p.source.$parentNodesScope,p.source.siblings(),p.source.index())):E.$parentNodesScope.accept(d,E.index())?(m[0].style.display="",E.accept(d,E.childNodesCount())&&D.pageY>n.offset(C).top+A/2-10&&D.pageY<n.offset(C).top+A/2+10?(E.$childNodesScope.$element.append(m),p.moveTo(E.$childNodesScope,E.childNodes(),E.childNodesCount()),k=E.$element,E.$element.addClass(L.containerClass)):Y?(C[0].parentNode.insertBefore(m[0],C[0]),p.moveTo(E.$parentNodesScope,E.siblings(),E.index())):E.accept(d,E.childNodesCount())&&E.$childNodesScope.childNodes().length?(E.$childNodesScope.$element[0].insertBefore(m[0],E.$childNodesScope.childNodes()[0].$element[0]),p.moveTo(E.$childNodesScope,E.childNodes(),0)):(C.after(m),p.moveTo(E.$parentNodesScope,E.siblings(),E.index()+1))):!Y&&E.accept(d,E.childNodesCount())&&(E.$childNodesScope.$element.append(m),p.moveTo(E.$childNodesScope,E.childNodes(),E.childNodesCount()))}else Y=E.horizontal?D.pageX<w.left+n.width(C)/2:D.pageY<w.top+n.height(C)/2,E.$parentNodesScope.accept(d,E.index())?Y?(C[0].parentNode.insertBefore(m[0],C[0]),p.moveTo(E.$parentNodesScope,E.siblings(),E.index())):(C.after(m),p.moveTo(E.$parentNodesScope,E.siblings(),E.index()+1)):!Y&&E.accept(d,E.childNodesCount())?(E.$childNodesScope.$element.append(m),p.moveTo(E.$childNodesScope,E.childNodes(),E.childNodesCount())):I=!0}d.$apply(function(){d.$treeScope.$callbacks.dragMove(p.eventArgs(g,f))})}};var z=function(e,n){var t=e.childNodes();if(t){for(var o=!1,l=0;l<t.length;l++)o=o||z(t[l],n);return e==n&&(o=!0),o}};y=function(e){var n=p.eventArgs(g,f);e.preventDefault(),d.dropIn()&&(d.$element.removeClass(L.dragSourceClass),k&&k.removeClass(L.containerClass)),X(),d.$treeScope.$apply(function(){r.when(d.$treeScope.$callbacks.beforeDrop(n)).then(function(e){e===!1||!d.$$allowNodeDrop||I&&!d.dropIn()?Y():(p.apply(),d.$treeScope.$callbacks.dropped(n))})["catch"](function(){Y()})["finally"](function(){h.replaceWith(d.$element),m.remove(),$&&($.remove(),$=null),d.$treeScope.$callbacks.dragStop(n),d.$$allowNodeDrop=!1,p=null;var e=document.body.getAttribute("ui-tree-cursor");null!==e&&(o.find("body").css({cursor:e}),document.body.removeAttribute("ui-tree-cursor"))})})},E=function(e){d.dragEnabled()&&(d.dropIn()&&(P=e,B=!1),v(e))},C=function(e){S(e)},M=function(e){Math.abs(P.pageY-e.pageY)>10&&(B=!0,angular.element(o).unbind("mousemove",M),angular.element(o).unbind("touchmove",M),v(P))},T=function(e){d.$$allowNodeDrop=!0,y(e)},O=function(){angular.element(o).unbind("mousemove",M),angular.element(o).unbind("touchmove",M),angular.element(o).unbind("touchend",O),angular.element(o).unbind("touchcancel",O),angular.element(o).unbind("mouseup",O),angular.element(o).unbind("mouseleave",O)},x=function(e){y(e)},w=function(){var e;return{exec:function(n,t){t||(t=0),this.cancel(),e=l(n,t)},cancel:function(){l.cancel(e)}}}(),Y=function(){i.bind("touchstart mousedown",function(e){w.exec(function(){E(e)},d.dragDelay||0)}),i.bind("touchend touchcancel mouseup",function(){w.cancel()})},Y(),D=function(){angular.element(o).bind("touchend",T),angular.element(o).bind("touchcancel",T),angular.element(o).bind("touchmove",C),angular.element(o).bind("mouseup",T),angular.element(o).bind("mousemove",C),angular.element(o).bind("mouseleave",x)},X=function(){angular.element(o).unbind("touchend",T),angular.element(o).unbind("touchcancel",T),angular.element(o).unbind("touchmove",C),angular.element(o).unbind("mouseup",T),angular.element(o).unbind("mousemove",C),angular.element(o).unbind("mouseleave",x)},A=function(e){27==e.keyCode&&(d.$$allowNodeDrop=!1,y(e))},angular.element(t.document).bind("keydown",A),d.$on("$destroy",function(){angular.element(t.document).unbind("keydown",A)})}}}])}(),function(){"use strict";angular.module("ui.tree").directive("uiTreeNodes",["treeConfig","$window",function(e){return{require:["ngModel","?^uiTreeNode","^uiTree"],restrict:"A",scope:!0,controller:"TreeNodesController",link:function(n,t,o,l){var r={},a=l[0],d=l[1],i=l[2];angular.extend(r,e),r.nodesClass&&t.addClass(r.nodesClass),d?(d.scope.$childNodesScope=n,n.$nodeScope=d.scope):i.scope.$nodesScope=n,n.$treeScope=i.scope,a&&(a.$render=function(){n.$modelValue=a.$modelValue}),n.$watch(function(){return o.maxDepth},function(e){"number"==typeof e&&(n.maxDepth=e)}),n.$watch(function(){return o.nodropEnabled},function(e){"undefined"!=typeof e&&(n.nodropEnabled=!0)},!0),o.$observe("horizontal",function(e){n.horizontal="undefined"!=typeof e})}}}])}(),function(){"use strict";function e(e,n){if(void 0===n)return null;for(var t=n.parentNode,o=1,l="function"==typeof t.setAttribute&&t.hasAttribute(e)?t:null;t&&"function"==typeof t.setAttribute&&!t.hasAttribute(e);){if(t=t.parentNode,l=t,t===document.documentElement){l=null;break}o++}return l}angular.module("ui.tree").factory("UiTreeHelper",["$document","$window","treeConfig",function(n,t,o){return{nodesData:{},setNodeAttribute:function(e,n,t){if(!e.$modelValue)return null;var o=this.nodesData[e.$modelValue.$$hashKey];o||(o={},this.nodesData[e.$modelValue.$$hashKey]=o),o[n]=t},getNodeAttribute:function(e,n){if(!e.$modelValue)return null;var t=this.nodesData[e.$modelValue.$$hashKey];return t?t[n]:null},nodrag:function(e){return"undefined"!=typeof e.attr("data-nodrag")?"false"!==e.attr("data-nodrag"):!1},eventObj:function(e){var n=e;return void 0!==e.targetTouches?n=e.targetTouches.item(0):void 0!==e.originalEvent&&void 0!==e.originalEvent.targetTouches&&(n=e.originalEvent.targetTouches.item(0)),n},dragInfo:function(e){return{source:e,sourceInfo:{cloneModel:e.$treeScope.cloneEnabled===!0?angular.copy(e.$modelValue):void 0,nodeScope:e,index:e.index(),nodesScope:e.$parentNodesScope},index:e.index(),siblings:e.siblings().slice(0),parent:e.$parentNodesScope,moveTo:function(e,n,t){this.parent=e,this.siblings=n.slice(0);var o=this.siblings.indexOf(this.source);o>-1&&(this.siblings.splice(o,1),this.source.index()<t&&t--),this.siblings.splice(t,0,this.source),this.index=t},parentNode:function(){return this.parent.$nodeScope},prev:function(){return this.index>0?this.siblings[this.index-1]:null},next:function(){return this.index<this.siblings.length-1?this.siblings[this.index+1]:null},isClone:function(){return this.source.$treeScope.cloneEnabled===!0},clonedNode:function(e){return angular.copy(e)},isDirty:function(){return this.source.$parentNodesScope!=this.parent||this.source.index()!=this.index},isForeign:function(){return this.source.$treeScope!==this.parent.$treeScope},eventArgs:function(e,n){return{source:this.sourceInfo,dest:{index:this.index,nodesScope:this.parent},elements:e,pos:n}},apply:function(){var e=this.source.$modelValue;this.parent.nodropEnabled||this.parent.$treeScope.nodropEnabled||this.isDirty()&&(this.isClone()&&this.isForeign()?this.parent.insertNode(this.index,this.sourceInfo.cloneModel):(this.source.remove(),this.parent.insertNode(this.index,e)))}}},height:function(e){return e.prop("scrollHeight")},width:function(e){return e.prop("scrollWidth")},offset:function(e){var o=e[0].getBoundingClientRect();return{width:e.prop("offsetWidth"),height:e.prop("offsetHeight"),top:o.top+(t.pageYOffset||n[0].body.scrollTop||n[0].documentElement.scrollTop),left:o.left+(t.pageXOffset||n[0].body.scrollLeft||n[0].documentElement.scrollLeft)}},positionStarted:function(e,n){var t={},o=e.pageX,l=e.pageY;return e.originalEvent&&e.originalEvent.touches&&e.originalEvent.touches.length>0&&(o=e.originalEvent.touches[0].pageX,l=e.originalEvent.touches[0].pageY),t.offsetX=o-this.offset(n).left,t.offsetY=l-this.offset(n).top,t.startX=t.lastX=o,t.startY=t.lastY=l,t.nowX=t.nowY=t.distX=t.distY=t.dirAx=0,t.dirX=t.dirY=t.lastDirX=t.lastDirY=t.distAxX=t.distAxY=0,t},positionMoved:function(e,n,t){var o,l=e.pageX,r=e.pageY;return e.originalEvent&&e.originalEvent.touches&&e.originalEvent.touches.length>0&&(l=e.originalEvent.touches[0].pageX,r=e.originalEvent.touches[0].pageY),n.lastX=n.nowX,n.lastY=n.nowY,n.nowX=l,n.nowY=r,n.distX=n.nowX-n.lastX,n.distY=n.nowY-n.lastY,n.lastDirX=n.dirX,n.lastDirY=n.dirY,n.dirX=0===n.distX?0:n.distX>0?1:-1,n.dirY=0===n.distY?0:n.distY>0?1:-1,o=Math.abs(n.distX)>Math.abs(n.distY)?1:0,t?(n.dirAx=o,void(n.moving=!0)):(n.dirAx!==o?(n.distAxX=0,n.distAxY=0):(n.distAxX+=Math.abs(n.distX),0!==n.dirX&&n.dirX!==n.lastDirX&&(n.distAxX=0),n.distAxY+=Math.abs(n.distY),0!==n.dirY&&n.dirY!==n.lastDirY&&(n.distAxY=0)),void(n.dirAx=o))},elementIsTreeNode:function(e){return"undefined"!=typeof e.attr("ui-tree-node")},elementIsTreeNodeHandle:function(e){return"undefined"!=typeof e.attr("ui-tree-handle")},elementIsTree:function(e){return"undefined"!=typeof e.attr("ui-tree")},elementIsTreeNodes:function(e){return"undefined"!=typeof e.attr("ui-tree-nodes")},elementIsPlaceholder:function(e){return e.hasClass(o.placeholderClass)},elementContainsTreeNodeHandler:function(e){return e[0].querySelectorAll("[ui-tree-handle]").length>=1},treeNodeHandlerContainerOfElement:function(n){return e("ui-tree-handle",n[0])}}}])}();